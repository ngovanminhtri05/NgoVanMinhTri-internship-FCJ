<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../images/favicon.png type=image/png><title>Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP :: Internship Report</title>
<link href=../../css/nucleus.css?1765347459 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1765347459 rel=stylesheet><link href=../../css/hybrid.css?1765347459 rel=stylesheet><link href=../../css/featherlight.min.css?1765347459 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1765347459 rel=stylesheet><link href=../../css/auto-complete.css?1765347459 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1765347459 rel=stylesheet><link href=../../css/theme.css?1765347459 rel=stylesheet><link href=../../css/hugo-theme.css?1765347459 rel=stylesheet><link href=../../css/theme-workshop.css?1765347459 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1765347459></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1765347459></script><script type=text/javascript src=../../js/auto-complete.js?1765347459></script><script type=text/javascript>var baseurl="https://thienluhoan.github.io/workshop-template/"</script><script type=text/javascript src=../../js/search.js?1765347459></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=../../1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Week 10 Worklog: Smart Office - Rules Engine & Data Persistence" class=dd-item><a href=../../1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog: Smart Office - Rules Engine & Data Persistence
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Week 11 Worklog: Smart Office - Serverless API & Visualization" class=dd-item><a href=../../1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog: Smart Office - Serverless API & Visualization
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog: AWS Foundations and Command Line Mastery" class=dd-item><a href=../../1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog: AWS Foundations and Command Line Mastery
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog: Architecting VPC & Secure Compute" class=dd-item><a href=../../1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog: Architecting VPC & Secure Compute
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog: Managed Databases & Storage" class=dd-item><a href=../../1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog: Managed Databases & Storage
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog: High Availability & Auto Scaling" class=dd-item><a href=../../1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog: High Availability & Auto Scaling
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog: Monitoring & Observability" class=dd-item><a href=../../1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog: Monitoring & Observability
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog: Content Delivery & Edge Security" class=dd-item><a href=../../1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog: Content Delivery & Edge Security
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=../../1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Week 9 Worklog: Project Kickoff - Smart Office IoT Core" class=dd-item><a href=../../1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog: Project Kickoff - Smart Office IoT Core
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=../../1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.13-week13/ title="Week 13 Worklog: Coursera AWS Certification" class=dd-item><a href=../../1-worklog/1.13-week13/><b>1.13. </b>Week 13 Worklog: Coursera AWS Certification
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=../../2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=../../3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="University of California Irvine Backs Up Petabytes of Research Data to AWS" class=dd-item><a href=../../3-blogstranslated/3.1-blog1/><b>3.1. </b>University of California Irvine Backs Up Petabytes of Research Data to AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="Guide to IP and Domain Warming and Migrating to Amazon SES" class=dd-item><a href=../../3-blogstranslated/3.2-blog2/><b>3.2. </b>Guide to IP and Domain Warming and Migrating to Amazon SES
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP" class="dd-item
active"><a href=../../3-blogstranslated/3.3-blog3/><b>3.3. </b>Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=../../4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event3/ title="Event 3" class=dd-item><a href=../../4-eventparticipated/4.2-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=../../5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title=Introduction class=dd-item><a href=../../5-workshop/5.1-workshop-overview/><b>5.1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequiste class=dd-item><a href=../../5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequiste
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-run-cloudformation-stack/ title="Set up cloudformation" class=dd-item><a href=../../5-workshop/5.3-run-cloudformation-stack/><b>5.3. </b>Set up cloudformation
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-set-up-website/ title="Set up website" class=dd-item><a href=../../5-workshop/5.4-set-up-website/><b>5.4. </b>Set up website
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.5-event-bridge/ title="EventBridge and Lambda Setup" class=dd-item><a href=../../5-workshop/5.5-event-bridge/><b>5.5. </b>EventBridge and Lambda Setup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-sns/ title="SNS Setup" class=dd-item><a href=../../5-workshop/5.6-sns/><b>5.6. </b>SNS Setup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.7-test-website-iot-connection/ title="Test website and IoT connection" class=dd-item><a href=../../5-workshop/5.7-test-website-iot-connection/><b>5.7. </b>Test website and IoT connection <i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=../../6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=../../7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://thienluhoan.github.io/workshop-template/3-blogstranslated/3.3-blog3/ selected>English</option><option id=vi value=https://thienluhoan.github.io/workshop-template/vi/3-blogstranslated/3.3-blog3/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Internship Report</a> > <a href=../../3-blogstranslated/>Translated Blogs</a> > Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP
          
        
        </span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#create-a-system-of-agents-with-strands-agents-and-mcp>Create a System of Agents with Strands Agents and MCP</a></li><li><a href=#expose-an-agent-as-an-mcp-server>Expose an Agent as an MCP Server</a></li><li><a href=#run-mcp-and-strands-agents-on-aws>Run MCP and Strands Agents on AWS</a></li><li><a href=#mcp-contributions-from-aws>MCP Contributions from AWS</a><ul><li><a href=#1-elicitation>1. Elicitation</a></li><li><a href=#2-structured-output-schemas>2. Structured Output Schemas</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#about-the-authors>About the Authors</a><ul><li><a href=#nick-aldridge>Nick Aldridge</a></li><li><a href=#james-ward>James Ward</a></li><li><a href=#clare-liguori>Clare Liguori</a></li></ul></li><li><a href=#resources>Resources</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP</h1><h1 id=open-protocols-for-agent-interoperability-part-3-strands-agents--mcp>Open Protocols for Agent Interoperability Part 3: Strands Agents & MCP</h1><p><strong>By Nick Aldridge, James Ward, and Clare Liguori | 10 JUL 2025</strong></p><p><strong>Categories:</strong> Artificial Intelligence, Customer Solutions, Open Source</p><hr><h2 id=introduction>Introduction</h2><p>Developers are architecting and building systems of AI agents that work together to autonomously accomplish users&rsquo; tasks. In <a href=https://aws.amazon.com/blogs/opensource/open-protocols-for-agent-interoperability-part-1-inter-agent-communication-on-mcp/>Part 1</a> of our blog series on Open Protocols for Agent Interoperability we covered how Model Context Protocol (MCP) can be used to facilitate inter-agent communication and the MCP specification enhancements AWS is working on to enable that. The examples in Part 1 used Spring AI and Java for building the agents and connecting them with MCP. In <a href=https://aws.amazon.com/blogs/opensource/open-protocols-for-agent-interoperability-part-2-authentication-on-mcp/>Part 2</a> we discussed Authentication on MCP. This is a critical aspect of connecting agents so they can work together in a larger system, all with knowledge of who the user is.</p><p>In Part 3 we will show how you can build inter-agent systems with the new <a href=https://strandsagents.com/>Strands Agents SDK</a> and MCP.</p><p>Strands Agents is an open source SDK that takes a model-driven approach to building and running AI agents in just a few lines of Python code. You can read more about Strands Agents in <a href=https://strandsagents.com/>the documentation</a>. Since Strands Agents supports MCP we can quickly build a system consisting of multiple inter-connected agents and then deploy the agents on AWS.</p><p>Our example is an HR agent which can answer questions about employees. To do this you could imagine the HR agent communicating with a number of other agents like an employee data agent, an Enterprise Resource Planning (ERP) agent, a performance agent, goal agent, etc. For this example let&rsquo;s start with a basic architecture where a REST API exposes access to an HR agent which connects to an employee info agent:</p><p><img alt="HR agent example architecture" src=https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2025/07/10/HR-agent-architecture.png></p><p><strong>HR Agent Example Architecture</strong></p><blockquote><p><strong>Note:</strong> The complete, runnable version of the following example is available in our <a href=https://github.com/aws-samples/sample-agentic-ai-demos/tree/main/modules/strands-mcp-inter-agent>Agentic AI samples repo</a>.</p></blockquote><hr><h2 id=create-a-system-of-agents-with-strands-agents-and-mcp>Create a System of Agents with Strands Agents and MCP</h2><p>Let&rsquo;s start with the MCP server that will expose the employee data for use in the employee info agent. This is a basic MCP server:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> mcp.server.fastmcp <span style=color:#f92672>import</span> FastMCP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mcp <span style=color:#f92672>=</span> FastMCP(<span style=color:#e6db74>&#34;employee-server&#34;</span>, stateless_http<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, host<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.0.0.0&#34;</span>, port<span style=color:#f92672>=</span><span style=color:#ae81ff>8002</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@mcp.tool</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_skills</span>() <span style=color:#f92672>-&gt;</span> set[str]:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;all of the skills that employees may have - use this list to figure out related skills&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> SKILLS
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@mcp.tool</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_employees_with_skill</span>(skill: str) <span style=color:#f92672>-&gt;</span> list[dict]:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;employees that have a specified skill - output includes fullname (First Last) and their skills&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    skill_lower <span style=color:#f92672>=</span> skill<span style=color:#f92672>.</span>lower()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [employee <span style=color:#66d9ef>for</span> employee <span style=color:#f92672>in</span> EMPLOYEES <span style=color:#66d9ef>if</span> any(s<span style=color:#f92672>.</span>lower() <span style=color:#f92672>==</span> skill_lower <span style=color:#66d9ef>for</span> s <span style=color:#f92672>in</span> employee[<span style=color:#e6db74>&#34;skills&#34;</span>])]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    mcp<span style=color:#f92672>.</span>run(transport<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;streamable-http&#34;</span>)
</span></span></code></pre></div><p>This MCP server exposes the ability to get a list of employee skills and get a list of employees that have a specific skill. For this example we are using fictitious data and in a future blog we will share how to secure this service.</p><p>Now that we have a way for an agent to get this employee information, let&rsquo;s create the employee agent using Strands Agents. Our agent connects to the MCP server for employee information and uses Bedrock for inference. We also add a system prompt to provide some additional behavior to this agent:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>EMPLOYEE_INFO_URL <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;EMPLOYEE_INFO_URL&#34;</span>, <span style=color:#e6db74>&#34;http://localhost:8002/mcp/&#34;</span>)
</span></span><span style=display:flex><span>employee_mcp_client <span style=color:#f92672>=</span> MCPClient(<span style=color:#66d9ef>lambda</span>: streamablehttp_client(EMPLOYEE_INFO_URL))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bedrock_model <span style=color:#f92672>=</span> BedrockModel(
</span></span><span style=display:flex><span>    model_id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;amazon.nova-micro-v1:0&#34;</span>,
</span></span><span style=display:flex><span>    region_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;us-east-1&#34;</span>,
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>employee_agent</span>(question: str):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> employee_mcp_client:
</span></span><span style=display:flex><span>        tools <span style=color:#f92672>=</span> employee_mcp_client<span style=color:#f92672>.</span>list_tools_sync()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        agent <span style=color:#f92672>=</span> Agent(model<span style=color:#f92672>=</span>bedrock_model, tools<span style=color:#f92672>=</span>tools, system_prompt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;you must abbreviate employee first names and list all their skills&#34;</span>, callback_handler<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> agent(question)
</span></span></code></pre></div><p>This example uses Amazon Bedrock and the Nova Micro model with the employee data tool for multi-turn inference. Multi-turn inference is when an AI agent makes multiple calls to an AI model in a loop, usually involving calling tools to get or update data, completing when the initial task is done or an error happens. In this example the multi-turn inference enables a flow like:</p><ol><li>User asks &ldquo;list employees who have skills related to AI&rdquo;</li><li>The LLM sees that it has access to a list of employee skills and instructs the agent to call that tool</li><li>The agent calls the employee <code>get_skills</code> tool and returns the skills to the LLM</li><li>The LLM then determines which skills are related to AI and sees that it can then get employees with each skill using the <code>get_employees_with_skill</code> tool</li><li>The agent gets the employees for each skill and returns them to the LLM</li><li>The LLM then assembles the complete list of employees with skills related to AI and returns it</li></ol><p>This multi-turn interaction across multiple LLM calls and multiple tool calls encapsulated into a single <code>agent(question)</code> call, shows the power of Strands Agents performing an agentic loop to achieve a provided task. This example also shows how the employee agent can add additional instructions on top of the underlying tools, in this case with a system prompt.</p><hr><h2 id=expose-an-agent-as-an-mcp-server>Expose an Agent as an MCP Server</h2><p>We can interact with this agent in a number of ways. For example, we could expose it as a REST service. In our case we want to expose it in a way that will enable other agents to interact with it. We can use MCP to facilitate that inter-agent communication by exposing this agent as an MCP server. Then another agent (for example HR agent) will be able to use the employee agent as a tool.</p><p>To expose the employee agent as an MCP server we just wrap our <code>employee_agent</code> function in an <code>@mcp.tool</code>, transform the response data into a list of strings, and start the server:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>mcp <span style=color:#f92672>=</span> FastMCP(<span style=color:#e6db74>&#34;employee-agent&#34;</span>, stateless_http<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, host<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.0.0.0&#34;</span>, port<span style=color:#f92672>=</span><span style=color:#ae81ff>8001</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@mcp.tool</span>()
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>inquire</span>(question: str) <span style=color:#f92672>-&gt;</span> list[str]:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;answers questions related to our employees&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>        content[<span style=color:#e6db74>&#34;text&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> content <span style=color:#f92672>in</span> employee_agent(question)<span style=color:#f92672>.</span>message[<span style=color:#e6db74>&#34;content&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#f92672>in</span> content
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    mcp<span style=color:#f92672>.</span>run(transport<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;streamable-http&#34;</span>)
</span></span></code></pre></div><p>Since we&rsquo;ve wrapped the employee agent in an MCP server we can now use it in other agents. The HR agent is exposed as a REST API so that we could call it from a web application or other services.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>EMPLOYEE_AGENT_URL <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;EMPLOYEE_AGENT_URL&#34;</span>, <span style=color:#e6db74>&#34;http://localhost:8001/mcp/&#34;</span>)
</span></span><span style=display:flex><span>hr_mcp_client <span style=color:#f92672>=</span> MCPClient(<span style=color:#66d9ef>lambda</span>: streamablehttp_client(EMPLOYEE_AGENT_URL))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bedrock_model <span style=color:#f92672>=</span> BedrockModel(
</span></span><span style=display:flex><span>    model_id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;amazon.nova-micro-v1:0&#34;</span>,
</span></span><span style=display:flex><span>    region_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;us-east-1&#34;</span>,
</span></span><span style=display:flex><span>    temperature<span style=color:#f92672>=</span><span style=color:#ae81ff>0.9</span>,
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app <span style=color:#f92672>=</span> FastAPI(title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;HR Agent API&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>QuestionRequest</span>(BaseModel):
</span></span><span style=display:flex><span>    question: str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@app.get</span>(<span style=color:#e6db74>&#34;/health&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>health_check</span>():
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {<span style=color:#e6db74>&#34;status&#34;</span>: <span style=color:#e6db74>&#34;healthy&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@app.post</span>(<span style=color:#e6db74>&#34;/inquire&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>ask_agent</span>(request: QuestionRequest):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>generate</span>():
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> hr_mcp_client:
</span></span><span style=display:flex><span>            tools <span style=color:#f92672>=</span> hr_mcp_client<span style=color:#f92672>.</span>list_tools_sync()
</span></span><span style=display:flex><span>            agent <span style=color:#f92672>=</span> Agent(model<span style=color:#f92672>=</span>bedrock_model, tools<span style=color:#f92672>=</span>tools, callback_handler<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>for</span> event <span style=color:#f92672>in</span> agent<span style=color:#f92672>.</span>stream_async(request<span style=color:#f92672>.</span>question):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;data&#34;</span> <span style=color:#f92672>in</span> event:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>yield</span> event[<span style=color:#e6db74>&#34;data&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> StreamingResponse(
</span></span><span style=display:flex><span>        generate(),
</span></span><span style=display:flex><span>        media_type<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text/plain&#34;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    uvicorn<span style=color:#f92672>.</span>run(app, host<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0.0.0.0&#34;</span>, port<span style=color:#f92672>=</span><span style=color:#ae81ff>8000</span>)
</span></span></code></pre></div><hr><h2 id=run-mcp-and-strands-agents-on-aws>Run MCP and Strands Agents on AWS</h2><p>Of course we can run all of this on AWS using a variety of different options. Since the MCP servers use the new MCP Streamable HTTP transport, this could be run on serverless runtimes like AWS Lambda or AWS Fargate. For this example we will containerize the employee info MCP server, the employee agent, and the HR agent, run them on ECS, and expose the HR agent through a load balancer:</p><p><img alt="Load balancer diagram" src=https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2025/07/10/mermaid-diagram-2025-06-12-093700.png></p><p><strong>MCP and Strands Agents on AWS Infrastructure</strong></p><p>For this example we&rsquo;ve used AWS CloudFormation to define the infrastructure (<a href=https://github.com/aws-samples/Sample-Model-Context-Protocol-Demos/blob/main/modules/strands-mcp-inter-agent/infra.cfn>source</a>). Now with everything running on AWS we can make a request to the HR agent:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST --location <span style=color:#e6db74>&#34;http://something.us-east-1.elb.amazonaws.com/inquire&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>-H <span style=color:#e6db74>&#34;Content-Type: application/json&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>-d <span style=color:#e6db74>&#39;{&#34;question&#34;: &#34;list employees that have skills related to AI programming&#34;}&#39;</span>
</span></span></code></pre></div><p>And we get back:</p><pre tabindex=0><code>Here are the employees with skills related to AI programming:

1. W. Rodriguez - Machine Learning, REST API
2. M. Rodriguez - DevOps, Machine Learning, Python
3. R. Rodriguez - Machine Learning, JavaScript
4. J. Rodriguez - REST API, Kubernetes, Machine Learning, Node.js
5. W. Garcia - AWS, Kubernetes, GraphQL, Machine Learning
6. W. Davis - MongoDB, Angular, Kotlin, Machine Learning, REST API
7. J. Miller - React, Machine Learning, SQL, Kotlin
8. J. Rodriguez - SQL, Machine Learning, Docker, DevOps, Git

If you need more detailed information about any of these employees or require further assistance, please let me know!
</code></pre><p>Get <a href=https://github.com/aws-samples/Sample-Model-Context-Protocol-Demos/tree/main/modules/strands-mcp-inter-agent>the complete source</a> for this example.</p><hr><h2 id=mcp-contributions-from-aws>MCP Contributions from AWS</h2><p>This example shows just the beginning of what we can do with Strands Agents and MCP for inter-agent communication. We&rsquo;ve been working with the MCP specification and implementations to help evolve MCP to support additional capabilities that some inter-agent use cases may need.</p><p>The MCP specification has just had a <a href=https://modelcontextprotocol.io/specification/2025-06-18>new 2025-06-18 release</a> which includes two contributions from AWS to better support inter-agent communication. We&rsquo;ve also contributed support for these new features in various MCP implementations.</p><h3 id=1-elicitation>1. Elicitation</h3><p><a href=https://modelcontextprotocol.io/specification/2025-06-18/client/elicitation>Elicitation</a>: When MCP servers need additional input they can signal that to the agent (via the MCP client). Instead of a tool call providing a data response it can elicit additional information. For example, if an Employee Info Agent using an MCP tool to get employee data determines that a tool request like &ldquo;get employees that have AI skills&rdquo; may return more results than the user may want, it can elicit that the user provide a team name to filter on. This approach is different from a tool parameter because runtime characteristics may determine that the team name is necessary.</p><p>In a future blog post in this series we will dive deeper into how to use this feature. We&rsquo;ve contributed the implementations of this specification change to the Java and Python MCP SDKs, with both having merged the changes:</p><ul><li><a href=https://github.com/modelcontextprotocol/java-sdk/commit/8a5a591d39256ba3947003ec4477e1722363eb35>Java SDK change</a></li><li><a href=https://github.com/modelcontextprotocol/python-sdk/pull/625>Python SDK change</a></li></ul><h3 id=2-structured-output-schemas>2. Structured Output Schemas</h3><p><a href=https://modelcontextprotocol.io/specification/2025-06-18/server/tools#structured-content>Structured Output Schemas</a>: MCP tools generally return data to the agent (via the MCP client) but in contrast with input schemas (which have always been required), we&rsquo;ve contributed a way for tools to optionally specify an output schema. This enables agents to perform more type-safe conversions of tool outputs to typed data, enabling safer and easier transformations of that data within the agent.</p><p>We will also cover this feature more in future blog posts in this series. Implementations of this feature have been contributed to MCP&rsquo;s Java, Python, and TypeScript SDKs with the TypeScript implementation having already been merged:</p><ul><li><a href=https://github.com/modelcontextprotocol/java-sdk/pull/302>Java SDK pull request</a></li><li><a href=https://github.com/modelcontextprotocol/python-sdk/pull/654>Python SDK pull request</a></li><li><a href=https://github.com/modelcontextprotocol/typescript-sdk/pull/454>TypeScript SDK pull request</a></li></ul><hr><h2 id=conclusion>Conclusion</h2><p>It&rsquo;s exciting to see the progress with MCP for inter-agent communication and in future parts of this series we will dive deeper into how these enhancements can be used to enable richer interactions between agents.</p><p>In this blog we&rsquo;ve seen how we can use Strands Agents and MCP to create a system of agents that all work together and run on AWS. Strands Agents made it easy to build an agent connected to MCP tools, and then also expose the agent as an MCP server so that other agents can communicate with it. To get started learning about Strands Agents, check out the <a href=https://strandsagents.com/>documentation</a> and <a href=https://github.com/strands-agents/sdk-python>GitHub repo</a>. Stay tuned for more parts of this series on Agent Interoperability!</p><hr><h2 id=about-the-authors>About the Authors</h2><h3 id=nick-aldridge>Nick Aldridge</h3><p><img alt="Nick Aldridge" src=https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2025/05/19/nick-profile-2.jpg></p><p>Nick Aldridge is a Principal Engineer at AWS. Over the last 6 years, Nick has worked on multiple AI/ML initiatives including Amazon Lex and Amazon Bedrock. Most recently, he led the team that launched Amazon Bedrock Knowledge Bases. Today he works on generative AI and AI infrastructure with a focus on inter-agent collaboration and function calling. Prior to AWS, Nick earned his MS at the University of Chicago.</p><h3 id=james-ward>James Ward</h3><p>James Ward is a Principal Developer Advocate at AWS. James travels the world helping enterprise developers learn how to build reliable systems. His current focus is on helping developers build systems of AI agents using Spring AI, Embabel, Strands Agents, Amazon Bedrock, MCP, and A2A.</p><h3 id=clare-liguori>Clare Liguori</h3><p><img alt="Clare Liguori" src=https://d2908q01vomqb2.cloudfront.net/ca3512f4dfa95a03169c5a670a4c91a19b3077b4/2022/05/23/JTqRDDF__200x200.jpg></p><p>Clare Liguori is a Senior Principal Software Engineer for AWS Agentic AI. She focuses on re-imagining how applications are built and how productive developers can be when their tools are powered by generative AI and AI agents, as part of Amazon Q Developer.</p><hr><h2 id=resources>Resources</h2><ul><li><a href=https://aws.amazon.com/opensource>Open Source at AWS</a></li><li><a href=https://aws.github.io/>Projects on GitHub</a></li><li><a href=https://strandsagents.com/>Strands Agents Documentation</a></li><li><a href=https://github.com/strands-agents/sdk-python>Strands Agents GitHub Repository</a></li><li><a href=https://modelcontextprotocol.io/>Model Context Protocol (MCP)</a></li><li><a href=https://github.com/aws-samples/sample-agentic-ai-demos/>AWS Samples - Agentic AI Demos</a></li></ul><hr><p><strong>Tags:</strong> Artificial Intelligence, Open Source, Model Context Protocol, Strands Agents, Amazon Bedrock, Multi-Agent Systems</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../3-blogstranslated/3.2-blog2/ title="Guide to IP and Domain Warming and Migrating to Amazon SES"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../4-eventparticipated/ title="Events Participated" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1765347459></script><script src=../../js/perfect-scrollbar.min.js?1765347459></script><script src=../../js/perfect-scrollbar.jquery.min.js?1765347459></script><script src=../../js/jquery.sticky.js?1765347459></script><script src=../../js/featherlight.min.js?1765347459></script><script src=../../js/highlight.pack.js?1765347459></script><script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1765347459></script><script src=../../js/learn.js?1765347459></script><script src=../../js/hugo-learn.js?1765347459></script><link href=../../mermaid/mermaid.css?1765347459 rel=stylesheet><script src=../../mermaid/mermaid.js?1765347459></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>